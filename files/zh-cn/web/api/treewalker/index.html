---
title: TreeWalker
slug: Web/API/TreeWalker
---
<div>
<p>{{ APIRef("DOM") }}</p>
</div>

<p><strong><code>TreeWalker</code></strong> 对象用于表示文档子树中的节点和它们的位置。</p>

<p><code>TreeWalker</code> 可以使用 {{domxref("Document.createTreeWalker()")}} 方法创建。</p>

<h2 id="Properties">属性</h2>

<p><em>这个接口不继承任何属性。</em></p>

<dl>
 <dt>{{domxref("TreeWalker.root")}} {{readonlyInline}}</dt>
 <dd>返回一个 {{domxref("Node")}} ，表示新建 <code>TreeWalker</code> 时所声明的根节点。</dd>
 <dt>{{domxref("TreeWalker.whatToShow")}} {{readonlyInline}}</dt>
 <dd>返回一个 <code>unsigned long</code> 类型的常量位掩码，表示需要筛选的{{domxref("Node")}} 类型。不匹配的节点会跳过，但其子节点，如果符合条件，则也会被包含。可能的值如下：
 <table class="standard-table">
  <thead>
   <tr>
    <th class="header" scope="col">常量</th>
    <th class="header" scope="col">数字值</th>
    <th class="header" scope="col">描述</th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <td><code>NodeFilter.SHOW_ALL</code></td>
    <td><code>-1</code> (that is the max value of <code>unsigned long</code>)</td>
    <td>显示所有节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ATTRIBUTE</code> {{deprecated_inline}}</td>
    <td><code>2</code></td>
    <td>显示{{ domxref("Attr") }}节点，这意味着使用{{ domxref("TreeWalker") }}访问 {{ domxref("Attr") }}节点时，需要让这些节点处于遍历的开始位置。这是因为这些节点不是任何节点的后代，并不处于文档树之上。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_CDATA_SECTION</code> {{deprecated_inline}}</td>
    <td><code>8</code></td>
    <td>显示 {{ domxref("CDATASection") }}节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_COMMENT</code></td>
    <td><code>128</code></td>
    <td>显示 {{ domxref("Comment") }} 节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_DOCUMENT</code></td>
    <td><code>256</code></td>
    <td>显示 {{ domxref("Document") }} 节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_DOCUMENT_FRAGMENT</code></td>
    <td><code>1024</code></td>
    <td>显示 {{ domxref("DocumentFragment") }} 节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_DOCUMENT_TYPE</code></td>
    <td><code>512</code></td>
    <td>显示 {{ domxref("DocumentType") }} 节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ELEMENT</code></td>
    <td><code>1</code></td>
    <td>显示 {{ domxref("Element") }} 节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ENTITY</code> {{deprecated_inline}}</td>
    <td><code>32</code></td>
    <td>显示{{ domxref("Entity") }}节点，这意味着使用{{ domxref("TreeWalker") }}访问 {{ domxref("Entity") }}节点时，需要让这些节点处于遍历的开始位置。这是因为这些节点不是任何节点的后代，并不处于文档树之上。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_ENTITY_REFERENCE</code> {{deprecated_inline}}</td>
    <td><code>16</code></td>
    <td>显示 {{ domxref("EntityReference") }} 节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_NOTATION</code> {{deprecated_inline}}</td>
    <td><code>2048</code></td>
    <td>显示{{ domxref("Notation") }}节点，这意味着使用{{ domxref("TreeWalker") }}访问 {{ domxref("Notation") }}节点时，需要让这些节点处于遍历的开始位置。这是因为这些节点不是任何节点的后代，并不处于文档树之上。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_PROCESSING_INSTRUCTION</code></td>
    <td><code>64</code></td>
    <td>显示 {{ domxref("ProcessingInstruction") }} 节点。</td>
   </tr>
   <tr>
    <td><code>NodeFilter.SHOW_TEXT</code></td>
    <td><code>4</code></td>
    <td>显示 {{ domxref("Text") }} 节点。</td>
   </tr>
  </tbody>
 </table>
 </dd>
 <dt>{{domxref("TreeWalker.filter")}} {{readonlyInline}}</dt>
 <dd>返回一个实现{{domxref("NodeFilter")}}接口的对象，这个对象用来挑选相关的节点。</dd>
 <dt>{{domxref("TreeWalker.expandEntityReferences")}} {{readonlyInline}}{{Deprecated_Inline}}</dt>
 <dd>是个{{domxref("Boolean")}}的标记，表明是否在丢弃一个{{domxref("EntityReference")}}是否同时丢弃其后代。</dd>
 <dt>{{domxref("TreeWalker.currentNode")}}</dt>
 <dd>返回 <code>TreeWalker</code>   当前指向的{{domxref("Node")}}。</dd>
</dl>

<h2 id="Methods">方法</h2>

<p><em>这个接口不继承任何方法。</em></p>

<div class="note">
<p><strong>注意</strong>：对于<code>TreeWalker</code> ，一个节点是否<em>可见</em>只取决于<code>whatToShow</code> 和 <code>filter</code>  两个参数（和元素是否在屏幕上可见无关）</p>
</div>

<dl>
 <dt>{{domxref("TreeWalker.parentNode()")}}</dt>
 <dd>移动当前 {{domxref("Node")}}到文档顺序中的第一个“可见”的祖先节点，并返回该节点。如果没有这样的节点，则会返回 null  ，同时也不会发生移动。</dd>
 <dt>{{domxref("TreeWalker.firstChild()")}}</dt>
 <dd>移动当前 {{domxref("Node")}}到当前节点的第一个“可见”子节点，并返回该节点。如果没有这样的节点，则会返回 null  ，同时也不会发生移动。</dd>
 <dt>{{domxref("TreeWalker.lastChild()")}}</dt>
 <dd>移动当前 {{domxref("Node")}}到当前节点的最末一个“可见”子节点，并返回该节点。如果没有这样的节点，则会返回 null  ，同时也不会发生移动。</dd>
 <dt>{{domxref("TreeWalker.previousSibling()")}}</dt>
 <dd>移动当前 {{domxref("Node")}}到当前节点的前一个兄弟节点，并返回该节点。如果没有这样的节点，则会返回 null  ，同时也不会发生移动。</dd>
 <dt>{{domxref("TreeWalker.nextSibling()")}}</dt>
 <dd>移动当前 {{domxref("Node")}}到当前节点的后一个兄弟节点，并返回该节点。如果没有这样的节点，则会返回 null  ，同时也不会发生移动。</dd>
 <dt>{{domxref("TreeWalker.previousNode()")}}</dt>
 <dd>移动当前 {{domxref("Node")}}到文档顺序中前一个节点，并返回该节点。如果没有这样的节点，则会返回 null  ，同时也不会发生移动。</dd>
 <dt>{{domxref("TreeWalker.nextNode()")}}</dt>
 <dd>移动当前 {{domxref("Node")}}到文档顺序中下一个节点，并返回该节点。如果没有这样的节点，则会返回 null  ，同时也不会发生移动。</dd>
</dl>

<h2 id="Specification">规范</h2>

{{Specifications}}

<h2 id="浏览器兼容性">浏览器兼容性</h2>



<p>{{Compat("api.TreeWalker")}}</p>

<h2 id="参见">参见</h2>

<ul>
 <li>构造函数： {{domxref("Document.createTreeWalker()")}}.</li>
 <li>相关接口： {{domxref("NodeFilter")}}, {{domxref("NodeIterator")}}.</li>
</ul>
